<clickhouse>
    <storage_configuration>
        <disks>
            <default>
                <keep_free_space_bytes>10485760</keep_free_space_bytes>
            </default>
            <warm_storage>
                <path>/var/lib/clickhouse/disks/warm_storage/</path>
            </warm_storage>
            <s3_cold>
                <type>s3</type>
                <endpoint>http://host.docker.internal:9000/clickhouse-cold/</endpoint>
                <access_key_id>aaa</access_key_id>
                <secret_access_key>bbb</secret_access_key>
                <metadata_path>/var/lib/clickhouse/disks/s3_cold/</metadata_path>
            </s3_cold>
            <s3_cache>
                <type>cache</type>
                <disk>s3_cold</disk>
                <path>/var/lib/clickhouse/disks/s3_cache/</path>
                <max_size>1Gi</max_size>
            </s3_cache>
        </disks>
        <policies>
            <tiered>
                <volumes>
                    <default>
                        <disk>default</disk>
                    </default>
                    <warm_storage>
                        <disk>warm_storage</disk>
                    </warm_storage>
                    <s3_cold>
                        <disk>s3_cold</disk>
                    </s3_cold>
                </volumes>
                <move_factor>0.2</move_factor>
            </tiered>
        </policies>
    </storage_configuration>
</clickhouse>